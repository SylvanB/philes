(this["webpackJsonpphiles-client"]=this["webpackJsonpphiles-client"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(23),c=n.n(i),s=(n(31),n(4)),o=n(5),u=n(7),l=n(6),p=(n(32),n(14)),d=n(2),h=n(8),f=n.n(h),j=n(12),v=n(24),b=n(17),O=(n(34),n(35),n(1)),g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).dropRef=a.a.createRef(),e.inputOpenFileRef=a.a.createRef(),e.state={dragging:!1,dragCount:0},e.updateFiles=function(){var t;if((null===(t=e.inputOpenFileRef.current.files)||void 0===t?void 0:t.length)>0){var n=Object(b.a)(e.inputOpenFileRef.current.files).filter((function(e){return!e.name.endsWith(".exe")||e.size>41943040})).slice(0,5);e.props.updateFileState(n)}},e.showOpenFileDlg=function(){e.inputOpenFileRef.current.click()},e.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},e.handleDragIn=function(t){var n;t.preventDefault(),t.stopPropagation(),e.dragCount+=1,(null===(n=t.dataTransfer.items)||void 0===n?void 0:n.length)>0&&e.setState({dragging:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),e.dragCount-=1,e.dragCount>0||e.setState({dragging:!1})},e.handleDrop=function(t){var n;t.preventDefault(),t.stopPropagation(),e.setState({dragging:!1}),(null===(n=t.dataTransfer.files)||void 0===n?void 0:n.length)>0&&e.props.updateFileState(t.dataTransfer.files),e.dragCount=0},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t="UploadAreaContainer";return this.state.dragging&&(t+=" UploadAreaContainer-drag"),this.props.isActive||(t+=" UploadAreaContainer-pointerActive"),Object(O.jsxs)("div",{onClick:function(){return!e.props.isActive&&e.showOpenFileDlg()},onChange:this.updateFiles,className:t,ref:this.dropRef,children:[Object(O.jsx)("input",{hidden:!0,ref:this.inputOpenFileRef,type:"file",multiple:!0}),this.props.children]})}},{key:"componentDidMount",value:function(){var e=this.dropRef.current;this.dragCount=0,e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}}]),n}(a.a.Component),m=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"getById",value:function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{},{},{}]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteById",value:function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=Object(j.a)(f.a.mark((function e(t){var n,r,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n=new FormData,t)n.append("file".concat(r),t[r]);return a=new Request("http://localhost:8000/files",{method:"POST",body:n}),e.next=5,fetch(a).then(function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return!1}));case 5:return i=e.sent,console.log(i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=(n(37),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"button",onClick:this.props.handleOnClick,children:this.props.value})}}]),n}(a.a.Component)),y=n.p+"static/media/delete.918b1234.svg",k=(n(38),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this)).handleDeleteClick=function(){r.props.removeFile(r.state.keyValue)},r.state={keyValue:e.keyValue},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"FileListItem",children:[Object(O.jsx)("img",{className:"DeleteIcon UploadAreaContainer-pointerActive",src:y,alt:"Remove File",onClick:this.handleDeleteClick}),Object(O.jsx)("p",{className:"FileTitle",children:this.props.name})]})}}]),n}(a.a.Component)),C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).fileApi=new m,e.state={files:[]},e.updateFileState=function(t){var n=Object(b.a)(t);e.setState({files:n})},e.removeFile=function(t){var n=Object(b.a)(e.state.files).filter((function(e){return e.name!==t}));e.setState({files:n})},e.getFileListContent=function(){var t;if((null===(t=e.state.files)||void 0===t?void 0:t.length)<=0)return Object(O.jsx)("p",{style:{alignSelf:"center"},children:"Drag the file(s) you want to upload here, or click here to choose a file."});var n,r=[],a=Object(v.a)(e.state.files);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.push(Object(O.jsx)(k,{keyValue:i.name,removeFile:e.removeFile,name:i.name},i.name))}}catch(c){a.e(c)}finally{a.f()}return r},e.uploadFiles=Object(j.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===(n=e.state.files)||void 0===n?void 0:n.length)>0&&(e.fileApi.upsert(e.state.files),e.setState({files:[]}));case 1:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"uploadPageContainer",children:[Object(O.jsx)("h2",{children:"Upload"}),Object(O.jsx)("input",{hidden:!0,type:"file",id:"fileInput",ref:this.inputOpenFileRef}),Object(O.jsx)(g,{isActive:this.state.files.length>0,updateFileState:this.updateFileState,children:Object(O.jsx)("div",{className:"FileList",children:this.getFileListContent()})}),Object(O.jsx)(x,{value:"Upload",handleOnClick:this.uploadFiles})]})}}]),n}(a.a.Component),F=(n(39),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("header",{className:"AppHeader",children:[Object(O.jsx)("h1",{children:"Philes.rs"}),Object(O.jsxs)("div",{className:"NavBar",children:[Object(O.jsx)("div",{className:"NavItem",children:Object(O.jsx)(p.b,{to:"/",children:"Upload"})}),Object(O.jsx)("div",{className:"NavItem",children:Object(O.jsx)(p.b,{to:"/browse",children:"Browse"})}),Object(O.jsx)("div",{className:"NavItem",children:Object(O.jsx)(p.b,{to:"/about",children:"About"})})]})]})}}]),n}(a.a.Component)),w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsx)("h2",{children:"Browse"})}}]),n}(a.a.Component),D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsx)("h2",{children:"About Philes.rs"})}}]),n}(a.a.Component),A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsx)(p.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(F,{}),Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{path:"/",exact:!0,component:C}),Object(O.jsx)(d.a,{path:"/browse",exact:!0,component:w}),Object(O.jsx)(d.a,{path:"/about",exact:!0,component:D})]})]})})}}]),n}(a.a.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root")),N()}},[[45,1,2]]]);
//# sourceMappingURL=main.801b5f24.chunk.js.map